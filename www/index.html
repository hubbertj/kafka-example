<!DOCTYPE html>
<html>
<heah>
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <title>Simple Kafka | Example</title>
</heah>

<body>
    <div class="container">
        <div class="col-xs-3 pull-left">
            <a class="btn btn-secondary btn-block" href="/chat">Chat</a>
        </div>
        <div class="col-xs-12">
            <h1>A simple site for posting message to kafka</h1>
        </div>
        <div class="col-xs-12">&nbsp;</div>
        <div class="col-xs-12">
        	<div id="alerts">
			</div>
        </div>
        <div class="col-xs-12">
            <form class="form" name="postForm" id="post-form">
                <div class="form-group row">
                    <label for="example-text-input" class="col-xs-2 col-form-label">Text</label>
                    <div class="col-xs-10">
                        <input class="form-control" name="text" type="text" value="Artisanal kale" id="example-text-input">
                    </div>
                </div>
                <div class="form-group row">
                    <label for="example-search-input" class="col-xs-2 col-form-label">Search</label>
                    <div class="col-xs-10">
                        <input class="form-control" name="search" type="search" value="How do I shoot web" id="example-search-input">
                    </div>
                </div>
                <div class="form-group row">
                    <label for="example-email-input" class="col-xs-2 col-form-label">Email</label>
                    <div class="col-xs-10">
                        <input class="form-control" name="email" type="email" value="bootstrap@example.com" id="example-email-input">
                    </div>
                </div>
                <div class="form-group row">
                    <label for="example-url-input" class="col-xs-2 col-form-label">URL</label>
                    <div class="col-xs-10">
                        <input class="form-control" name="url" type="url" value="https://getbootstrap.com" id="example-url-input">
                    </div>
                </div>
                <div class="form-group row">
                    <label for="example-tel-input" class="col-xs-2 col-form-label">Telephone</label>
                    <div class="col-xs-10">
                        <input class="form-control" name="tel" type="tel" value="1-(555)-555-5555" id="example-tel-input">
                    </div>
                </div>
                <div class="form-group row">
                    <label for="example-password-input" class="col-xs-2 col-form-label">Password</label>
                    <div class="col-xs-10">
                        <input class="form-control" name="password" type="password" value="hunter2" id="example-password-input">
                    </div>
                </div>
                <div class="form-group row">
                    <label for="example-number-input" class="col-xs-2 col-form-label">Number</label>
                    <div class="col-xs-10">
                        <input class="form-control" name="number" type="number" value="42" id="example-number-input">
                    </div>
                </div>
                <div class="form-group row">
                    <label for="example-datetime-local-input" class="col-xs-2 col-form-label">Date and time</label>
                    <div class="col-xs-10">
                        <input class="form-control" name="datetime" type="datetime-local" value="2011-08-19T13:45:00" id="example-datetime-local-input">
                    </div>
                </div>
                <div class="form-group row">
                    <label for="example-date-input" class="col-xs-2 col-form-label">Date</label>
                    <div class="col-xs-10">
                        <input class="form-control" name="date" type="date" value="2011-08-19" id="example-date-input">
                    </div>
                </div>
                <div class="form-group row">
                    <label for="example-month-input" class="col-xs-2 col-form-label">Month</label>
                    <div class="col-xs-10">
                        <input class="form-control" name="month" type="month" value="2011-08" id="example-month-input">
                    </div>
                </div>
                <div class="form-group row">
                    <label for="example-week-input" class="col-xs-2 col-form-label">Week</label>
                    <div class="col-xs-10">
                        <input class="form-control" name="week" type="week" value="2011-W33" id="example-week-input">
                    </div>
                </div>
                <div class="form-group row">
                    <label for="example-time-input" class="col-xs-2 col-form-label">Time</label>
                    <div class="col-xs-10">
                        <input class="form-control" name="time" type="time" value="13:45:00" id="example-time-input">
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-xs-3 pull-right">
                        <button class="btn btn-primary btn-block" type="submit">PUSH!</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</body>
<footer></footer>
<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
<script type="text/javascript">

window.config = {
    https: { postExample: "/post-example" },
    server: '127.0.0.1:8000'
}

window.Extra = {
	clear: function(){
		$("#alerts").removeClass().text("");
	}
}

// A $( document ).ready() block.
$(document).ready(function() {
    console.log("ready!");
});

$("#post-form").submit(function() {
    var inputs = $("#post-form input");
    var data = {};

    inputs.each(function(index, element) {
        var name = $(element).attr('name');
        if (name != null) {
            data[name] = $(element).val();
        }
    });

    $.ajax({
        type: 'POST',
        url: config.https.postExample,
        data: data,
        dataType: "json",
        success: function(resultData){ 

        	console.log("Save Complete");

        	$("#alerts")
        	.addClass("alert alert-success")
        	.text("Posted the results :)");

        	setTimeout('Extra.clear()', 5000);

    	},
        error: function(err){
        	console.error(err);
        	$("#alerts")
        	.addClass("alert alert-danger")
        	.text(err.statusText);

        	setTimeout('Extra.clear()', 5000);
        }
    });

    return false;
});
</script>

</html>